{% extends "base.html" %}
{% load static %}
{% block body %}
<main>

<section class="ul-breadcrumb ul-section-spacing">
  <div class="ul-container">
    <h2 class="ul-breadcrumb-title">What would you like to donate?</h2>
    <h6 class="text-white">Every donation, a gift for someone in need</h6>
  </div>
</section>

<section class="donation-step">
  <div class="donation-container">

    <!-- LEFT -->
    <div class="left-bar">
      <div class="user-wrap">
        <span class="step-no">1</span>
        <img src="{% static 'assets/salamjindagi/img/user-1.png' %}">
      </div>
      <div class="step-text">CHOOSE ITEM</div>
    </div>

    <!-- RIGHT -->
    <div class="right-content">
      <div class="step-label">Step 1</div>

      <h1>What would you like to donate?</h1>
      <p class="subtitle">Every donation, a gift for someone in need</p>

      <form method="post">
        {% csrf_token %}

        <div class="slider-wrapper">

          <button type="button" class="arrow" id="prevBtn">&#8249;</button>

          <div class="slider-window">
            <div class="slider-track" id="sliderTrack">

              <label class="donate-card">
                <input type="radio" name="item" value="medical" required>
                <div class="card-box">
                  <img class="card-icon" src="{% static 'assets/salamjindagi/img/donate.webp' %}">
                  <h3>MEDICAL</h3>
                  <small>Instruments</small>
                </div>
                <span class="select-circle"></span>
              </label>

              <label class="donate-card">
                <input type="radio" name="item" value="food">
                <div class="card-box">
                  <img class="card-icon" src="{% static 'assets/salamjindagi/img/donate.webp' %}">
                  <h3>FOOD</h3>
                  <small>Canned</small>
                </div>
                <span class="select-circle"></span>
              </label>

              <label class="donate-card">
                <input type="radio" name="item" value="clothes">
                <div class="card-box">
                  <img class="card-icon" src="{% static 'assets/salamjindagi/img/donate.webp' %}">
                  <h3>CLOTHES</h3>
                  <small>Pre-loved</small>
                </div>
                <span class="select-circle"></span>
              </label>

              <label class="donate-card">
                <input type="radio" name="item" value="books">
                <div class="card-box">
                  <img class="card-icon" src="{% static 'assets/salamjindagi/img/donate.webp' %}">
                  <h3>BOOKS</h3>
                  <small>Used</small>
                </div>
                <span class="select-circle"></span>
              </label>

            </div>
          </div>

          <button type="button" class="arrow" id="nextBtn">&#8250;</button>
        </div>

        <button class="next-btn">NEXT</button>
      </form>

    </div>
  </div>
</section>

</main>

<style>
body{margin:0;background:#eef3f9;font-family:Arial,sans-serif}

.donation-container{
  max-width:1200px;
  margin:40px auto;
  background:#f8fdff;
  border-radius:30px;
  display:flex;
  padding:30px;
}

/* LEFT */
.left-bar{
  width:160px;
  background:#efeaff;
  border-radius:25px;
  text-align:center;
  padding:25px 10px;
}
.user-wrap{
  width:90px;height:90px;
  margin:0 auto 10px;
  position:relative;
}
.user-wrap img{
  width:100%;height:100%;
  border-radius:50%;
  border:5px solid #fff;
}
.step-no{
  position:absolute;
  top:-6px;left:-6px;
  width:26px;height:26px;
  background:#fff;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
}
.step-text{font-weight:700}

/* RIGHT */
.right-content{flex:1;padding:20px 50px;position:relative}
.step-label{position:absolute;right:30px;top:10px;font-weight:700}
.subtitle{color:#555}

/* SLIDER */
.slider-wrapper{margin-top:50px;display:flex;align-items:center}
.slider-window{width:760px;overflow:hidden}
.slider-track{display:flex;gap:30px;transition:.5s}

/* CARD */
.donate-card{position:relative;cursor:pointer}
.donate-card input{position:absolute;inset:0;opacity:0;cursor:pointer;z-index:2}
.card-box{
  width:240px;height:210px;
  background:#fff;
  border-radius:24px;
  border:2px solid #e5e7eb;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:8px;
}
.card-icon{width:80px}
.select-circle{
  position:absolute;top:16px;right:16px;
  width:18px;height:18px;border-radius:50%;
  border:2px solid #cbd5f5;background:#fff;
}
.donate-card input:checked + .card-box{border-color:#9aa7ff}
.donate-card input:checked ~ .select-circle{
  background:#9aa7ff;border-color:#9aa7ff
}

/* BUTTONS */
.arrow{
  width:40px;height:40px;border-radius:50%;
  border:none;background:#e5e7eb;
  font-size:22px;cursor:pointer;margin:0 10px;
}
.next-btn{
  margin-top:50px;
  padding:14px 45px;
  border-radius:35px;
  border:none;
  background:#bfcbea;
  color:#fff;font-weight:700;
}
</style>

<script>
const track = document.getElementById("sliderTrack");
const cards = document.querySelectorAll(".donate-card");
let index = 0;

function updateSlider(){
  track.style.transform = `translateX(-${index * 270}px)`;
  cards[index].querySelector("input").checked = true;
}

document.getElementById("nextBtn").onclick = () => {
  if(index < cards.length - 1){ index++; updateSlider(); }
};
document.getElementById("prevBtn").onclick = () => {
  if(index > 0){ index--; updateSlider(); }
};

cards.forEach((card,i)=>{
  card.addEventListener("click",()=>{
    index = i;
    updateSlider();
  });
});
</script>

{% endblock %}
